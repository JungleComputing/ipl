<project
    name="ibis.io.native"
    default="build"
    basedir=".">

    <description>
	Compile natives in this directory

	The shared target definitions require you to define:
	    local.includes	a property that contains include paths specific
				to this module

	Optional:
	    local.lib		the truncated name of the lib you want to create
    </description>

    <property name="ibis" location="../../../.."/>
    <property name="native.dir" location="."/>

    <import file="${ibis}/build-files/build-properties.xml"/>

    <property name="local.lib" value="Rdtsc"/>

    <property name="omni" location="${ibis}/3rdparty/omni"/>

    <path id="local.includes-ref">
	<pathelement path="${omni}"/>
    </path>
    <property name="local.includes" refid="local.includes-ref"/>

    <import file="${ibis}/build-files/build-native.xml"/>

    <target name="set-locallibset" if="os-is-mac">
	<libset id="local.libset-ref"
		dir="${ibis}/lib/natives"
		libs="OTTimer"/>
    </target>

    <target name="build" depends="set-locallibset,native"/>

</project>
