<project
    name="ibis.io.native"
    default="build"
    basedir=".">

    <description>
	Compile natives in this directory

	Expect to inherit the following properties:
	    native.dir		the directory of this build
	    ibis		the root of the ibis source tree
	    native-path		${native.dir} relative to ${ibis}
	    build		the root of the ibis build tree
	    default.classpath	a ref property with default classpath

	The shared target definitions require you to define:
	    local.includes	a property that contains include paths specific
				to this module

	Optional:
	    local.lib		the truncated name of the lib you want to create
    </description>

    <!--
    <property name="ibis" location="../../../.."/>
    -->

    <import file="${ibis}/build-files/build-properties.xml"/>

    <property name="local.lib" value="Rdtsc"/>

    <property name="omni" location="${ibis}/3rdparty/omni"/>

    <path id="local.includes-ref">
	<pathelement path="${omni}"/>
    </path>
    <property name="local.includes" refid="local.includes-ref"/>

    <libset id="local.libset-ref"
	    dir="${ibis}/build/lib"
	    libs="OTTimer"
	    if="os-is-mac"/>

    <import file="${ibis}/build-files/build-native.xml"/>

    <target name="build">
	<antcall inheritRefs="true" target="native-compile"/>
    </target>

</project>
